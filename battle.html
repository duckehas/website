<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Case Battles - Engine Bucks</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: #121212;
      color: white;
      text-align: center;
      padding: 40px;
    }
    .balance {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #7b61ff;
      padding: 15px 25px;
      border-radius: 10px;
      font-weight: 700;
      font-size: 1.3rem;
      color: white;
    }
    h1 {
      color: #a78bfa;
      margin-bottom: 15px;
    }
    select, button {
      background: #7b61ff;
      color: white;
      padding: 10px 18px;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      cursor: pointer;
      margin: 10px 5px;
      transition: background-color 0.3s ease;
    }
    select:hover, button:hover {
      background: #9f85ff;
    }
    #slots {
      margin: 25px auto 10px;
      display: flex;
      justify-content: center;
      gap: 12px;
      max-width: 600px;
      flex-wrap: nowrap;
    }
    .slot {
      background: #2a2a44;
      border-radius: 12px;
      padding: 15px 10px;
      min-width: 110px;
      font-weight: 600;
      font-size: 1rem;
      height: 70px;
      display: flex;
      align-items: center;
      justify-content: center;
      user-select: none;
      color: #ddd;
      box-shadow: 0 0 10px #7b61ffaa;
      white-space: nowrap;
    }
    #result {
      margin-top: 18px;
      font-size: 1.3rem;
      font-weight: bold;
      min-height: 1.8em;
      color: #a0ffa0;
    }
  </style>
</head>
<body>
  <div class="balance" id="eb-balance">Balance: 5000 EB</div>
  <h1>Case Battles</h1>

  <label for="case-select">Select Case:</label>
  <select id="case-select">
    <option value="10">10 EB Case</option>
    <option value="25">25 EB Case</option>
    <option value="50">50 EB Case</option>
    <option value="100">100 EB Case</option>
    <option value="1000">1,000 EB Case</option>
    <option value="5000">5,000 EB Case</option>
    <option value="10000000">10,000,000 EB Case</option>
  </select>
  <button id="battle-btn">Create Battle</button>

  <div id="slots">
    <div class="slot">?</div>
    <div class="slot">?</div>
    <div class="slot">?</div>
    <div class="slot">?</div>
    <div class="slot">?</div>
  </div>
  <div id="result"></div>

<script>
  const STORAGE_KEY = 'engineBucksBalance';
  let balance = 5000;

const rewardsByCase = {
    10: [
      { item: 'ðŸ¬ Candy', value: 15, weight: 20 },
      { item: 'ðŸ­ Lollipop', value: 10, weight: 25 },
      { item: 'ðŸª Cookie', value: 8, weight: 30 },
      { item: 'ðŸŽ–ï¸ Tiny Medal', value: 20, weight: 10 },
      { item: 'ðŸ˜¢ Nothing', value: 0, weight: 50 },
      { item: 'ðŸ’€ Bad Luck', value: -5, weight: 50 },
      // added more 44 items below
      { item: 'ðŸ¥¤ Small Drink', value: 7, weight: 35 },
      { item: 'ðŸŽ Apple', value: 9, weight: 32 },
      { item: 'ðŸŒ Banana', value: 9, weight: 33 },
      { item: 'ðŸ‰ Watermelon', value: 11, weight: 20 },
      { item: 'ðŸ’ Cherries', value: 12, weight: 18 },
      { item: 'ðŸ‡ Grapes', value: 13, weight: 17 },
      { item: 'ðŸ“ Strawberry', value: 14, weight: 16 },
      { item: 'ðŸ¥• Carrot', value: 10, weight: 25 },
      { item: 'ðŸŒ½ Corn', value: 12, weight: 22 },
      { item: 'ðŸ¥” Potato', value: 11, weight: 23 },
      { item: 'ðŸž Bread', value: 13, weight: 18 },
      { item: 'ðŸ¥– Baguette', value: 15, weight: 14 },
      { item: 'ðŸ§€ Cheese', value: 16, weight: 12 },
      { item: 'ðŸ¥š Egg', value: 14, weight: 20 },
      { item: 'ðŸ— Chicken Leg', value: 18, weight: 10 },
      { item: 'ðŸ– Ribs', value: 20, weight: 8 },
      { item: 'ðŸ¤ Shrimp', value: 22, weight: 7 },
      { item: 'ðŸ£ Sushi', value: 25, weight: 6 },
      { item: 'ðŸœ Noodles', value: 19, weight: 9 },
      { item: 'ðŸ¥— Salad', value: 17, weight: 11 },
      { item: 'ðŸ° Cake Slice', value: 20, weight: 8 },
      { item: 'ðŸ© Donut', value: 18, weight: 10 },
      { item: 'ðŸª Chocolate Chip', value: 16, weight: 12 },
      { item: 'ðŸ« Chocolate Bar', value: 21, weight: 7 },
      { item: 'ðŸ¬ Lollipop (Rare)', value: 23, weight: 5 },
      { item: 'ðŸ­ Candy Cane', value: 24, weight: 5 },
      { item: 'ðŸŽ‚ Birthday Cake', value: 26, weight: 4 },
      { item: 'ðŸ¯ Honey Jar', value: 19, weight: 9 },
      { item: 'ðŸ¥› Milk Bottle', value: 12, weight: 22 },
      { item: 'ðŸµ Tea Cup', value: 13, weight: 20 },
      { item: 'â˜• Coffee Cup', value: 15, weight: 18 },
      { item: 'ðŸ¥¤ Juice Box', value: 14, weight: 19 },
      { item: 'ðŸ§ƒ Fruit Juice', value: 16, weight: 15 },
      { item: 'ðŸº Beer Mug', value: 22, weight: 7 },
      { item: 'ðŸ· Wine Glass', value: 23, weight: 6 },
      { item: 'ðŸ¥‚ Champagne', value: 25, weight: 5 },
      { item: 'ðŸ¸ Martini', value: 24, weight: 5 },
      { item: 'ðŸ¹ Cocktail', value: 26, weight: 4 },
      { item: 'ðŸ¾ Bottle', value: 27, weight: 3 },
      { item: 'ðŸ¥ƒ Whiskey', value: 28, weight: 2 },
      { item: 'ðŸ§Š Ice Cube', value: 5, weight: 40 }
    ],
    25: [
      { item: 'ðŸŽ‰ Small Trophy', value: 40, weight: 15 },
      { item: 'ðŸ« Chocolate', value: 30, weight: 20 },
      { item: 'ðŸ© Donut', value: 25, weight: 25 },
      { item: 'ðŸ… Medal', value: 50, weight: 10 },
      { item: 'ðŸ˜¢ Nothing', value: 0, weight: 50 },
      { item: 'ðŸ’€ Bad Luck', value: -10, weight: 50 },
      // +44 items
      { item: 'âš½ Soccer Ball', value: 28, weight: 25 },
      { item: 'ðŸ€ Basketball', value: 30, weight: 23 },
      { item: 'ðŸˆ Football', value: 32, weight: 21 },
      { item: 'ðŸŽ¾ Tennis Ball', value: 27, weight: 26 },
      { item: 'ðŸ Volleyball', value: 29, weight: 22 },
      { item: 'ðŸŽ± Pool Ball', value: 35, weight: 18 },
      { item: 'ðŸ¥Ž Softball', value: 34, weight: 19 },
      { item: 'ðŸ“ Ping Pong Ball', value: 25, weight: 28 },
      { item: 'ðŸŽ³ Bowling Ball', value: 40, weight: 15 },
      { item: 'ðŸ¥… Goal Net', value: 38, weight: 16 },
      { item: 'ðŸ¥‡ Gold Medal', value: 50, weight: 12 },
      { item: 'ðŸ¥ˆ Silver Medal', value: 45, weight: 13 },
      { item: 'ðŸ¥‰ Bronze Medal', value: 40, weight: 15 },
      { item: 'ðŸŽ–ï¸ Ribbon', value: 37, weight: 17 },
      { item: 'ðŸ† Cup Trophy', value: 55, weight: 10 },
      { item: 'ðŸ›¡ï¸ Shield', value: 48, weight: 14 },
      { item: 'âš”ï¸ Sword', value: 52, weight: 12 },
      { item: 'ðŸ¹ Bow', value: 47, weight: 15 },
      { item: 'ðŸ—¡ï¸ Dagger', value: 43, weight: 18 },
      { item: 'ðŸª“ Axe', value: 50, weight: 12 },
      { item: 'ðŸ›¡ï¸ Knight Shield', value: 49, weight: 13 },
      { item: 'ðŸŽ¯ Dart', value: 31, weight: 20 },
      { item: 'ðŸªƒ Boomerang', value: 33, weight: 19 },
      { item: 'ðŸª€ Yo-Yo', value: 29, weight: 21 },
      { item: 'ðŸ›´ Scooter', value: 44, weight: 16 },
      { item: 'ðŸš² Bicycle', value: 50, weight: 12 },
      { item: 'ðŸ›¹ Skateboard', value: 48, weight: 13 },
      { item: 'ðŸŽ® Game Controller', value: 51, weight: 11 },
      { item: 'ðŸŽ² Dice', value: 30, weight: 22 },
      { item: 'ðŸ§© Puzzle', value: 35, weight: 18 },
      { item: 'ðŸ“¯ Horn', value: 42, weight: 15 },
      { item: 'ðŸŽº Trumpet', value: 46, weight: 14 },
      { item: 'ðŸŽ¸ Guitar', value: 53, weight: 11 },
      { item: 'ðŸŽ» Violin', value: 50, weight: 13 },
      { item: 'ðŸ¥ Drum', value: 48, weight: 14 },
      { item: 'ðŸ“š Book', value: 28, weight: 23 },
      { item: 'ðŸ–‹ï¸ Pen', value: 26, weight: 25 },
      { item: 'ðŸ“Ž Paperclip', value: 20, weight: 30 },
      { item: 'ðŸ“Œ Pin', value: 22, weight: 28 },
      { item: 'ðŸ“… Calendar', value: 30, weight: 22 },
      { item: 'ðŸ—‚ï¸ Folder', value: 35, weight: 20 },
      { item: 'ðŸ“ File', value: 38, weight: 18 },
      { item: 'ðŸ“‚ Open Folder', value: 40, weight: 17 },
      { item: 'ðŸ“¤ Outbox', value: 42, weight: 16 },
      { item: 'ðŸ“¥ Inbox', value: 45, weight: 15 },
      { item: 'ðŸ“¦ Box', value: 50, weight: 13 },
      { item: 'ðŸ“« Mailbox', value: 48, weight: 14 },
      { item: 'ðŸ“ª Mailbox with Mail', value: 52, weight: 12 },
      { item: 'ðŸ“® Postbox', value: 55, weight: 10 },
      { item: 'ðŸ—³ï¸ Ballot Box', value: 53, weight: 11 }
    ],
    50: [
      { item: 'ðŸ’Ž Small Gem', value: 70, weight: 15 },
      { item: 'ðŸ”® Magic Orb', value: 90, weight: 10 },
      { item: 'ðŸ… Medal', value: 80, weight: 12 },
      { item: 'ðŸ˜¢ Nothing', value: 0, weight: 50 },
      { item: 'ðŸ’€ Bad Luck', value: -20, weight: 50 },
      // +45 items
      { item: 'ðŸ“¿ Necklace', value: 85, weight: 11 },
      { item: 'ðŸ’ Ring', value: 90, weight: 10 },
      { item: 'ðŸ›¡ï¸ Shield', value: 95, weight: 9 },
      { item: 'âš”ï¸ Sword', value: 100, weight: 8 },
      { item: 'ðŸª“ Axe', value: 88, weight: 11 },
      { item: 'ðŸ¹ Bow', value: 85, weight: 12 },
      { item: 'ðŸ—¡ï¸ Dagger', value: 80, weight: 13 },
      { item: 'ðŸ† Trophy', value: 105, weight: 7 },
      { item: 'ðŸŽ–ï¸ Medal', value: 78, weight: 14 },
      { item: 'ðŸ“š Ancient Tome', value: 92, weight: 10 },
      { item: 'ðŸ§™ Wizard Hat', value: 100, weight: 8 },
      { item: 'ðŸ§› Vampire Fang', value: 110, weight: 6 },
      { item: 'ðŸ§Ÿ Zombie Brain', value: 75, weight: 14 },
      { item: 'ðŸ§œ Mermaid Scale', value: 95, weight: 9 },
      { item: 'ðŸ§ž Genie Lamp', value: 115, weight: 6 },
      { item: 'ðŸ’¼ Briefcase', value: 70, weight: 15 },
      { item: 'ðŸ‘œ Purse', value: 68, weight: 16 },
      { item: 'ðŸŽ© Top Hat', value: 72, weight: 15 },
      { item: 'ðŸ‘‘ Crown', value: 120, weight: 5 },
      { item: 'ðŸ¦„ Unicorn Horn', value: 125, weight: 4 },
      { item: 'ðŸ‰ Dragon Scale', value: 130, weight: 4 },
      { item: 'ðŸ¦… Eagle Feather', value: 90, weight: 10 },
      { item: 'ðŸ•¯ï¸ Candle', value: 70, weight: 14 },
      { item: 'âš—ï¸ Flask', value: 80, weight: 13 },
      { item: 'ðŸ”« Pistol', value: 110, weight: 6 },
      { item: 'ðŸ”¨ Hammer', value: 85, weight: 11 },
      { item: 'ðŸª“ Battle Axe', value: 115, weight: 6 },
      { item: 'ðŸ›¡ï¸ Knight Shield', value: 105, weight: 7 },
      { item: 'ðŸŽ¯ Target', value: 70, weight: 15 },
      { item: 'ðŸŽ² Game Dice', value: 75, weight: 14 },
      { item: 'ðŸ§© Puzzle Piece', value: 80, weight: 12 },
      { item: 'ðŸ“¯ Horn', value: 90, weight: 10 },
      { item: 'ðŸŽº Trumpet', value: 95, weight: 9 },
      { item: 'ðŸŽ¸ Guitar', value: 100, weight: 8 },
      { item: 'ðŸŽ» Violin', value: 105, weight: 7 },
      { item: 'ðŸ¥ Drum', value: 110, weight: 6 },
      { item: 'ðŸ›³ï¸ Ship', value: 120, weight: 5 },
      { item: 'ðŸš€ Rocket', value: 125, weight: 4 },
      { item: 'ðŸš Helicopter', value: 130, weight: 4 },
      { item: 'ðŸ° Castle', value: 140, weight: 3 },
      { item: 'ðŸ—¼ Tower', value: 135, weight: 4 },
      { item: 'ðŸŽ¡ Ferris Wheel', value: 125, weight: 4 },
      { item: 'ðŸŽ¢ Roller Coaster', value: 130, weight: 4 },
      { item: 'ðŸŽ  Carousel', value: 120, weight: 5 },
      { item: 'ðŸŽª Circus Tent', value: 110, weight: 6 },
      { item: 'ðŸŽ­ Mask', value: 105, weight: 7 },
      { item: 'ðŸŽ¨ Paint Palette', value: 90, weight: 9 }
    ],
    100: [
      { item: 'ðŸ’° Small Chest', value: 200, weight: 15 },
      { item: 'ðŸ’Ž Gemstone', value: 250, weight: 12 },
      { item: 'ðŸ”® Magic Crystal', value: 230, weight: 13 },
      { item: 'ðŸ† Golden Trophy', value: 280, weight: 10 },
      { item: 'ðŸ˜¢ Nothing', value: 0, weight: 50 },
      { item: 'ðŸ’€ Bad Luck', value: -40, weight: 50 },
      // +44 items
      { item: 'ðŸ‘‘ Royal Crown', value: 320, weight: 8 },
      { item: 'âš”ï¸ Legendary Sword', value: 350, weight: 6 },
      { item: 'ðŸ›¡ï¸ Dragon Shield', value: 340, weight: 7 },
      { item: 'ðŸ§™â€â™‚ï¸ Wizard Staff', value: 330, weight: 8 },
      { item: 'ðŸ¦„ Unicorn', value: 360, weight: 5 },
      { item: 'ðŸ‰ Dragon Egg', value: 370, weight: 4 },
      { item: 'ðŸš€ Spaceship', value: 380, weight: 4 },
      { item: 'ðŸ° Fortress', value: 390, weight: 3 },
      { item: 'ðŸŽ–ï¸ Medal of Honor', value: 310, weight: 9 },
      { item: 'ðŸŽ¯ Bullseye', value: 270, weight: 11 },
      { item: 'ðŸ“š Ancient Book', value: 260, weight: 12 },
      { item: 'ðŸŽ² Dice Set', value: 240, weight: 13 },
      { item: 'ðŸŽ® Game Console', value: 280, weight: 10 },
      { item: 'ðŸ… Sports Medal', value: 230, weight: 14 },
      { item: 'ðŸš Helicopter', value: 300, weight: 9 },
      { item: 'ðŸ›³ï¸ Luxury Yacht', value: 400, weight: 2 },
      { item: 'ðŸŽ¡ Amusement Park', value: 350, weight: 5 },
      { item: 'ðŸŽ¢ Roller Coaster', value: 320, weight: 7 },
      { item: 'ðŸŽ  Carousel', value: 310, weight: 8 },
      { item: 'ðŸŽª Circus', value: 300, weight: 9 },
      { item: 'ðŸŽ­ Theater Mask', value: 280, weight: 10 },
      { item: 'ðŸŽ¨ Masterpiece', value: 270, weight: 11 },
      { item: 'ðŸŽ¬ Movie Reel', value: 260, weight: 12 },
      { item: 'ðŸ“¯ Bugle', value: 250, weight: 13 },
      { item: 'ðŸŽº Trumpet', value: 240, weight: 14 },
      { item: 'ðŸŽ¸ Electric Guitar', value: 230, weight: 15 },
      { item: 'ðŸŽ» Stradivarius', value: 400, weight: 2 },
      { item: 'ðŸ¥ Drum Set', value: 350, weight: 4 },
      { item: 'ðŸ–¼ï¸ Painting', value: 300, weight: 6 },
      { item: 'ðŸ›ï¸ Shopping Bag', value: 200, weight: 15 },
      { item: 'ðŸ“¦ Parcel', value: 180, weight: 17 },
      { item: 'ðŸ“« Mailbox', value: 170, weight: 18 },
      { item: 'ðŸ“¤ Outbox Tray', value: 160, weight: 19 },
      { item: 'ðŸ“¥ Inbox Tray', value: 150, weight: 20 },
      { item: 'ðŸ“… Calendar', value: 140, weight: 21 },
      { item: 'ðŸ“Ž Paperclip', value: 130, weight: 22 },
      { item: 'ðŸ–‹ï¸ Fountain Pen', value: 120, weight: 23 },
      { item: 'ðŸ“Œ Thumbtack', value: 110, weight: 24 },
      { item: 'ðŸ—‚ï¸ File Folder', value: 100, weight: 25 },
      { item: 'ðŸ§¾ Receipt', value: 90, weight: 26 },
      { item: 'ðŸ“‘ Bookmark', value: 80, weight: 27 },
      { item: 'ðŸ—’ï¸ Notepad', value: 70, weight: 28 },
      { item: 'ðŸ““ Diary', value: 60, weight: 29 },
      { item: 'ðŸ“” Journal', value: 50, weight: 30 },
      { item: 'ðŸ“• Book', value: 40, weight: 31 },
      { item: 'ðŸ“— Green Book', value: 55, weight: 28 },
      { item: 'ðŸ“˜ Blue Book', value: 65, weight: 26 },
      { item: 'ðŸ“™ Orange Book', value: 75, weight: 24 }
    ], 

   5000: [
      { item: 'ðŸ’° Small Chest', value: 200, weight: 15 },
      { item: 'ðŸ’Ž Gemstone', value: 250, weight: 12 },
      { item: 'ðŸ”® Magic Crystal', value: 230, weight: 13 },
      { item: 'ðŸ† Golden Trophy', value: 280, weight: 10 },
      { item: 'ðŸ˜¢ Nothing', value: 0, weight: 50 },
      { item: 'ðŸ’€ Bad Luck', value: -40, weight: 50 },
      // +44 items
      { item: 'ðŸ‘‘ Royal Crown', value: 320, weight: 8 },
      { item: 'âš”ï¸ Legendary Sword', value: 350, weight: 6 },
      { item: 'ðŸ›¡ï¸ Dragon Shield', value: 340, weight: 7 },
      { item: 'ðŸ§™â€â™‚ï¸ Wizard Staff', value: 330, weight: 8 },
      { item: 'ðŸ¦„ Unicorn', value: 360, weight: 5 },
      { item: 'ðŸ‰ Dragon Egg', value: 370, weight: 4 },
      { item: 'ðŸš€ Spaceship', value: 380, weight: 4 },
      { item: 'ðŸ° Fortress', value: 390, weight: 3 },
      { item: 'ðŸŽ–ï¸ Medal of Honor', value: 310, weight: 9 },
      { item: 'ðŸŽ¯ Bullseye', value: 270, weight: 11 },
      { item: 'ðŸ“š Ancient Book', value: 260, weight: 12 },
      { item: 'ðŸŽ² Dice Set', value: 240, weight: 13 },
      { item: 'ðŸŽ® Game Console', value: 280, weight: 10 },
      { item: 'ðŸ… Sports Medal', value: 230, weight: 14 },
      { item: 'ðŸš Helicopter', value: 300, weight: 9 },
      { item: 'ðŸ›³ï¸ Luxury Yacht', value: 400, weight: 2 },
      { item: 'ðŸŽ¡ Amusement Park', value: 350, weight: 5 },
      { item: 'ðŸŽ¢ Roller Coaster', value: 320, weight: 7 },
      { item: 'ðŸŽ  Carousel', value: 310, weight: 8 },
      { item: 'ðŸŽª Circus', value: 300, weight: 9 },
      { item: 'ðŸŽ­ Theater Mask', value: 280, weight: 10 },
      { item: 'ðŸŽ¨ Masterpiece', value: 270, weight: 11 },
      { item: 'ðŸŽ¬ Movie Reel', value: 260, weight: 12 },
      { item: 'ðŸ“¯ Bugle', value: 250, weight: 13 },
      { item: 'ðŸŽº Trumpet', value: 240, weight: 14 },
      { item: 'ðŸŽ¸ Electric Guitar', value: 230, weight: 15 },
      { item: 'ðŸŽ» Stradivarius', value: 400, weight: 2 },
      { item: 'ðŸ¥ Drum Set', value: 350, weight: 4 },
      { item: 'ðŸ–¼ï¸ Painting', value: 300, weight: 6 },
      { item: 'ðŸ›ï¸ Shopping Bag', value: 200, weight: 15 },
      { item: 'ðŸ“¦ Parcel', value: 180, weight: 17 },
      { item: 'ðŸ“« Mailbox', value: 170, weight: 18 },
      { item: 'ðŸ“¤ Outbox Tray', value: 160, weight: 19 },
      { item: 'ðŸ“¥ Inbox Tray', value: 150, weight: 20 },
      { item: 'ðŸ“… Calendar', value: 140, weight: 21 },
      { item: 'ðŸ“Ž Paperclip', value: 130, weight: 22 },
      { item: 'ðŸ–‹ï¸ Fountain Pen', value: 120, weight: 23 },
      { item: 'ðŸ“Œ Thumbtack', value: 110, weight: 24 },
      { item: 'ðŸ—‚ï¸ File Folder', value: 100, weight: 25 },
      { item: 'ðŸ§¾ Receipt', value: 90, weight: 26 },
      { item: 'ðŸ“‘ Bookmark', value: 80, weight: 27 },
      { item: 'ðŸ—’ï¸ Notepad', value: 70, weight: 28 },
      { item: 'ðŸ““ Diary', value: 60, weight: 29 },
      { item: 'ðŸ“” Journal', value: 50, weight: 30 },
      { item: 'ðŸ“• Book', value: 40, weight: 31 },
      { item: 'ðŸ“— Green Book', value: 55, weight: 28 },
      { item: 'ðŸ“˜ Blue Book', value: 65, weight: 26 },
      { item: 'ðŸ“™ Orange Book', value: 75, weight: 24 }
    ],


       10000000: [
      { item: 'ðŸ’° Small Chest', value: 200, weight: 15 },
      { item: 'ðŸ’Ž Gemstone', value: 250, weight: 12 },
      { item: 'ðŸ”® Magic Crystal', value: 230, weight: 13 },
      { item: 'ðŸ† Golden Trophy', value: 280, weight: 10 },
      { item: 'ðŸ˜¢ Nothing', value: 0, weight: 50 },
      { item: 'ðŸ’€ Bad Luck', value: -40, weight: 50 },
      // +44 items
      { item: 'ðŸ‘‘ Royal Crown', value: 320, weight: 8 },
      { item: 'âš”ï¸ Legendary Sword', value: 350, weight: 6 },
      { item: 'ðŸ›¡ï¸ Dragon Shield', value: 340, weight: 7 },
      { item: 'ðŸ§™â€â™‚ï¸ Wizard Staff', value: 330, weight: 8 },
      { item: 'ðŸ¦„ Unicorn', value: 360, weight: 5 },
      { item: 'ðŸ‰ Dragon Egg', value: 370, weight: 4 },
      { item: 'ðŸš€ Spaceship', value: 380, weight: 4 },
      { item: 'ðŸ° Fortress', value: 390, weight: 3 },
      { item: 'ðŸŽ–ï¸ Medal of Honor', value: 310, weight: 9 },
      { item: 'ðŸŽ¯ Bullseye', value: 270, weight: 11 },
      { item: 'ðŸ“š Ancient Book', value: 260, weight: 12 },
      { item: 'ðŸŽ² Dice Set', value: 240, weight: 13 },
      { item: 'ðŸŽ® Game Console', value: 280, weight: 10 },
      { item: 'ðŸ… Sports Medal', value: 230, weight: 14 },
      { item: 'ðŸš Helicopter', value: 300, weight: 9 },
      { item: 'ðŸ›³ï¸ Luxury Yacht', value: 400, weight: 2 },
      { item: 'ðŸŽ¡ Amusement Park', value: 350, weight: 5 },
      { item: 'ðŸŽ¢ Roller Coaster', value: 320, weight: 7 },
      { item: 'ðŸŽ  Carousel', value: 310, weight: 8 },
      { item: 'ðŸŽª Circus', value: 300, weight: 9 },
      { item: 'ðŸŽ­ Theater Mask', value: 280, weight: 10 },
      { item: 'ðŸŽ¨ Masterpiece', value: 270, weight: 11 },
      { item: 'ðŸŽ¬ Movie Reel', value: 260, weight: 12 },
      { item: 'ðŸ“¯ Bugle', value: 250, weight: 13 },
      { item: 'ðŸŽº Trumpet', value: 240, weight: 14 },
      { item: 'ðŸŽ¸ Electric Guitar', value: 230, weight: 15 },
      { item: 'ðŸŽ» Stradivarius', value: 400, weight: 2 },
      { item: 'ðŸ¥ Drum Set', value: 350, weight: 4 },
      { item: 'ðŸ–¼ï¸ Painting', value: 300, weight: 6 },
      { item: 'ðŸ›ï¸ Shopping Bag', value: 200, weight: 15 },
      { item: 'ðŸ“¦ Parcel', value: 180, weight: 17 },
      { item: 'ðŸ“« Mailbox', value: 170, weight: 18 },
      { item: 'ðŸ“¤ Outbox Tray', value: 160, weight: 19 },
      { item: 'ðŸ“¥ Inbox Tray', value: 150, weight: 20 },
      { item: 'ðŸ“… Calendar', value: 140, weight: 21 },
      { item: 'ðŸ“Ž Paperclip', value: 130, weight: 22 },
      { item: 'ðŸ–‹ï¸ Fountain Pen', value: 120, weight: 23 },
      { item: 'ðŸ“Œ Thumbtack', value: 110, weight: 24 },
      { item: 'ðŸ—‚ï¸ File Folder', value: 100, weight: 25 },
      { item: 'ðŸ§¾ Receipt', value: 90, weight: 26 },
      { item: 'ðŸ“‘ Bookmark', value: 80, weight: 27 },
      { item: 'ðŸ—’ï¸ Notepad', value: 70, weight: 28 },
      { item: 'ðŸ““ Diary', value: 60, weight: 29 },
      { item: 'ðŸ“” Journal', value: 50, weight: 30 },
      { item: 'ðŸ“• Book', value: 40, weight: 31 },
      { item: 'ðŸ“— Green Book', value: 55, weight: 28 },
      { item: 'ðŸ“˜ Blue Book', value: 65, weight: 26 },
      { item: 'ðŸ“™ Orange Book', value: 75, weight: 24 }
    ],

    1000: [
      { item: 'ðŸš— Sports Car', value: 1500, weight: 15 },
      { item: 'ðŸ° Castle', value: 2000, weight: 12 },
      { item: 'ðŸ›³ï¸ Yacht', value: 1800, weight: 13 },
      { item: 'ðŸ¦„ Unicorn', value: 2200, weight: 10 },
      { item: 'ðŸ‰ Dragon', value: 2500, weight: 8 },
      { item: 'ðŸ’Ž Giant Gem', value: 2100, weight: 10 },
      { item: 'ðŸ›¡ï¸ Legendary Shield', value: 1900, weight: 12 },
      { item: 'âš”ï¸ Mythical Sword', value: 2400, weight: 8 },
      { item: 'ðŸš€ Rocket Ship', value: 2600, weight: 7 },
      { item: 'ðŸ† World Trophy', value: 2300, weight: 9 },
      // +40 items
      { item: 'ðŸ›¸ UFO', value: 2550, weight: 7 },
      { item: 'ðŸŽ© Wizard Hat', value: 1850, weight: 13 },
      { item: 'ðŸŽ® Gaming PC', value: 1700, weight: 15 },
      { item: 'ðŸŽ° Slot Machine', value: 1600, weight: 17 },
      { item: 'ðŸ“¡ Satellite Dish', value: 2100, weight: 11 },
      { item: 'ðŸ›°ï¸ Spacecraft', value: 2300, weight: 10 },
      { item: 'ðŸš¤ Speed Boat', value: 1800, weight: 13 },
      { item: 'ðŸ›µ Scooter', value: 1500, weight: 15 },
      { item: 'ðŸšœ Tractor', value: 1400, weight: 16 },
      { item: 'ðŸï¸ Motorcycle', value: 1600, weight: 14 },
      { item: 'ðŸš² Bicycle', value: 1300, weight: 17 },
      { item: 'ðŸ›´ Kick Scooter', value: 1200, weight: 18 },
      { item: 'ðŸ›¹ Skateboard', value: 1100, weight: 19 },
      { item: 'ðŸ§© Puzzle', value: 1000, weight: 20 },
      { item: 'ðŸ§¸ Teddy Bear', value: 900, weight: 21 },
      { item: 'ðŸŽ² Dice', value: 800, weight: 22 },
      { item: 'ðŸŽ¯ Dartboard', value: 750, weight: 23 },
      { item: 'ðŸ“š Book Stack', value: 700, weight: 24 },
      { item: 'ðŸ–¼ï¸ Artwork', value: 650, weight: 25 },
      { item: 'ðŸ›ï¸ Shopping Bag', value: 600, weight: 26 },
      { item: 'ðŸ“¦ Package', value: 550, weight: 27 },
      { item: 'ðŸ“« Mailbox', value: 500, weight: 28 },
      { item: 'ðŸ“¤ Outbox', value: 450, weight: 29 },
      { item: 'ðŸ“¥ Inbox', value: 400, weight: 30 },
      { item: 'ðŸ“… Calendar', value: 350, weight: 31 },
      { item: 'ðŸ“Ž Paperclip', value: 300, weight: 32 },
      { item: 'ðŸ–‹ï¸ Pen', value: 250, weight: 33 },
      { item: 'ðŸ“Œ Pin', value: 200, weight: 34 },
      { item: 'ðŸ—‚ï¸ Folder', value: 150, weight: 35 },
      { item: 'ðŸ“ File', value: 100, weight: 36 },
      { item: 'ðŸ“‚ Open Folder', value: 80, weight: 37 },
      { item: 'ðŸ“¤ Outbox Tray', value: 60, weight: 38 },
      { item: 'ðŸ“¥ Inbox Tray', value: 50, weight: 39 },
      { item: 'ðŸ“¦ Box', value: 40, weight: 40 },
      { item: 'ðŸ“« Mailbox', value: 30, weight: 41 },
      { item: 'ðŸ“ª Mailbox with Mail', value: 20, weight: 42 },
      { item: 'ðŸ“® Postbox', value: 10, weight: 43 },
      { item: 'ðŸ—³ï¸ Ballot Box', value: 5, weight: 44 }
    ]
  }

  const slots = [...document.querySelectorAll('.slot')];
  const balanceDiv = document.getElementById('eb-balance');
  const resultDiv = document.getElementById('result');
  const caseSelect = document.getElementById('case-select');
  const battleBtn = document.getElementById('battle-btn');

  function loadBalance() {
    const saved = localStorage.getItem(STORAGE_KEY);
    if (saved) balance = parseInt(saved);
    updateBalance();
  }

  function saveBalance() {
    localStorage.setItem(STORAGE_KEY, balance);
  }

  function updateBalance() {
    balanceDiv.textContent = `Balance: ${balance} EB`;
  }

  // Weighted random helper
  function weightedRandom(items) {
    const totalWeight = items.reduce((sum, i) => sum + i.weight, 0);
    let rand = Math.random() * totalWeight;
    for (let i of items) {
      if (rand < i.weight) return i;
      rand -= i.weight;
    }
  }

  // Spin each slot with some delay
  function spinSlot(slot, reward, delay) {
    return new Promise((resolve) => {
      let count = 0;
      const maxCycles = 15 + delay * 5;
      const interval = setInterval(() => {
        const randomIndex = Math.floor(Math.random() * rewardsByCase[caseSelect.value].length);
        slot.textContent = rewardsByCase[caseSelect.value][randomIndex].item;
        count++;
        if (count > maxCycles) {
          clearInterval(interval);
          slot.textContent = reward.item;
          resolve(reward);
        }
      }, 70);
    });
  }

  async function createBattle() {
    const caseCost = parseInt(caseSelect.value);
    if (balance < caseCost) {
      resultDiv.style.color = '#ff7070';
      resultDiv.textContent = `You need at least ${caseCost} EB to create a battle.`;
      return;
    }
    battleBtn.disabled = true;
    resultDiv.style.color = '#a0ffa0';
    resultDiv.textContent = 'Creating battle... good luck!';

    balance -= caseCost;
    updateBalance();
    saveBalance();

    const caseRewards = rewardsByCase[caseCost];

    // Your rewards: pick 5 weighted random
    let yourRewards = [];
    for (let i = 0; i < 5; i++) {
      yourRewards.push(weightedRandom(caseRewards));
    }

    // AI opponent rewards: same
    let aiRewards = [];
    for (let i = 0; i < 5; i++) {
      aiRewards.push(weightedRandom(caseRewards));
    }

    // Spin slots to reveal your rewards
    for (let i = 0; i < 5; i++) {
      await spinSlot(slots[i], yourRewards[i], i);
    }

    // Calculate total value for both
    const yourTotal = yourRewards.reduce((sum, r) => sum + r.value, 0);
    const aiTotal = aiRewards.reduce((sum, r) => sum + r.value, 0);

    // Outcome: highest total loses!
    let message = '';
    if (yourTotal < aiTotal) {
      // You win: get 2x the cost as reward
      const winnings = caseCost * 2;
      balance += winnings;
      message = `You win! Your total: ${yourTotal} EB vs Opponent's total: ${aiTotal} EB. You earned ${winnings} EB!`;
      resultDiv.style.color = '#a0ffa0';
    } else if (yourTotal > aiTotal) {
      message = `You lose. Your total: ${yourTotal} EB vs Opponent's total: ${aiTotal} EB. Better luck next time!`;
      resultDiv.style.color = '#ff7070';
    } else {
      // Draw - refund cost
      balance += caseCost;
      message = `It's a draw! Both totals are ${yourTotal} EB. Your EB refunded.`;
      resultDiv.style.color = '#ffff70';
    }
    updateBalance();
    saveBalance();

    // Show AI rewards in console (or you can add a section to display them)
    console.log('AI Rewards:', aiRewards.map(r => r.item).join(', '));

    resultDiv.textContent = message;
    battleBtn.disabled = false;
  }

  battleBtn.addEventListener('click', createBattle);

  window.onload = loadBalance;
</script>
</body>
</html>
